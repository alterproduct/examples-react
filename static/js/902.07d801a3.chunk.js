(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[902],{449:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>o});var s=i(43);const r=[{type:"img",urlThumb:"/assets/image/tshirt/black/image_0_thumb.png",urlContent:"/assets/image/tshirt/black/image_0_big.png",alt:"T-Shirt front"},{type:"img",urlThumb:"/assets/image/tshirt/black/image_1_thumb.png",urlContent:"/assets/image/tshirt/black/image_1_big.png",alt:"T-Shirt back"},{type:"video",urlThumb:"/assets/image/tshirt/black/image_2_thumb.png",urlContent:"/assets/image/tshirt/black/image_0_big.png",alt:"T-Shirt video thumbnail"},{type:"viewer3D",urlThumb:"/assets/image/tshirt/black/image_3_thumb.png",urlContent:"/assets/image/tshirt/black/image_0_big.png",alt:"T-Shirt 3D Viewer thumbnail"}];var a=i(579);const n=e=>{let{responseApi:t,selectedPreview:i,setSelectedPreview:s}=e;return(0,a.jsx)("div",{id:"buttonsWrapper",children:t.map(((e,t)=>(0,a.jsxs)("div",{className:"buttonContainer ".concat(i===t?"active":""),onClick:()=>(e=>{s(e)})(t),children:[(0,a.jsx)("img",{src:e.urlThumb,alt:e.alt,className:"imgThumb"}),"video"===e.type?(0,a.jsx)("img",{src:"/assets/icons/icon-play-video.svg",alt:"Play video",className:"button-icon"}):null,"viewer3D"===e.type?(0,a.jsx)("img",{src:"/assets/icons/icon-3d.svg",alt:"Open 3D Viewer",className:"button-icon"}):null]},"buttonMedia"+t)))})};var l=i(953);i(200);const u=e=>{let{displayWrapperRef:t}=e;const i=(0,s.useRef)(null),r=(0,s.useRef)(null),n=()=>{if(!r.current||!t.current)return;const e=r.current,i=t.current,s=i.clientWidth,a=i.clientHeight,n=s/a,l=e.videoWidth()/e.videoHeight();l>n?(e.width(s),e.height(s/l)):(e.height(a),e.width(a*l))};return(0,s.useEffect)((()=>{if(!r.current&&i.current){const e=Object.assign(document.createElement("video"),{id:"my-video",className:"video-js",loop:!0,autoplay:!0,muted:!0,preload:"auto"});return e.setAttribute("data-setup",'{"asdf": true }'),i.current.appendChild(e),r.current=(0,l.A)(e,{loop:!0,autoplay:!0,muted:!0,preload:"auto",sources:[{src:"/assets/video/video-360-loop-embeding.webm",type:"video/webm"}]},(function(){l.A.log("player is ready")})),r.current.on("loadedmetadata",(()=>{n(),window.addEventListener("resize",n)})),()=>{r.current&&!r.current.isDisposed()&&(r.current.dispose(),r.current=null),window.removeEventListener("resize",n)}}}),[]),(0,a.jsx)("div",{className:"videoContainer",ref:i})},c=e=>{let{responseApi:t,selectedPreview:i}=e;const r=(0,s.useRef)(null);return(0,a.jsxs)("div",{id:"displayWrapper",ref:r,children:["img"===t[i].type?(0,a.jsx)("img",{src:t[i].urlContent,alt:t[i].alt}):null,"video"===t[i].type?(0,a.jsx)(u,{displayWrapperRef:r}):null,"viewer3D"===t[i].type?(0,a.jsx)("iframe",{loading:"lazy",title:"Product Viewer",src:"https://alterproduct.com/app/viewer/5z",width:"100%",height:"100%",frameBorder:"0",allowFullScreen:!0}):null]})},o=()=>{const[e,t]=(0,s.useState)(0);return(0,a.jsxs)("div",{id:"wrapper",children:[(0,a.jsx)(c,{responseApi:r,selectedPreview:e}),(0,a.jsx)(n,{responseApi:r,selectedPreview:e,setSelectedPreview:t})]})}},542:()=>{}}]);
//# sourceMappingURL=902.07d801a3.chunk.js.map